# version format
version: 1.2.{build}

environment:
  #GIT_TRACE: 1
  access_token:
    secure: bDZ9LJ84SWlGw/D3R/q3ADwDslfrLNZLMdH3ZRjdi5xwkGanmjf7DvgN+crc4BU/
  psgallery_key:
    secure: FuPgJskczZMptxRgdUlBAy7OYmXBQl4zq86kXXSmBt6wKudnM2PK7W6cM7bj0te1
  coveralls_key:
    secure: bdyanCqxWP0hylNYUvdIl8eUlDMhmIsmeFUNxGwnESlEksBZnxcLhaj1lYVuD7LM
  codecov_key:
    secure: P8TyHefSoYBAZk/UMFHNWcfmcjQp0o3X3fP3DMFhTzxXa6yXlA+w8CT69jYfh7n/
  github_email:
    secure: x5ljenzXfYXkzpEu9eX7AQvb3AkFbiXG2NndMzw9Zc4=
  sig_key:
    secure: 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
  PfxSecure:
    secure: Kkp5iutKCw8ACijkd5Et8xUjF4e39dJRuoaTWIHem5tVaF5QeqUnrPSjkPsNDwro

skip_tags: true

skip_commits:
  files:
    - docs\*
    - .github\*
    - .vscode\*
    - README.md
    - LICENSE.md
    - CONTRIBUTING.md
    - CODE_OF_CONDUCT.md
    - ISSUE_TEMPLATE.md
    - PULL_REQUEST_TEMPLATE.md
    - appveyor.yml
    - CHANGELOG.md
  message: /update readme.*|update version.*|update appveyor.*/

only_commits:
  files:
    - build\
    - DoubleDeploy\
    - tests\

image: Visual Studio 2017

install:
  - ps: . .\build\install.ps1
  - pwsh.exe -File .\build\install.ps1

build_script:
  - ps: . .\build\build.ps1

test_script:
  - ps: . .\build\test.ps1
  - pwsh.exe -File .\build\test.ps1

deploy_script:
  - ps: . .\build\deploy-github.ps1
  - pwsh.exe -File .\build\deploy-psgallery.ps1

on_failure:
  - ps: $blockRdp = $true; iex ((new-object net.webclient).DownloadString('https://raw.githubusercontent.com/appveyor/ci/master/scripts/enable-rdp.ps1'))
